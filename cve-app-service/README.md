# CVE-APP Service 

A service that provides data for a demo application to provide CVE summaries


## Data sources 
This service pulls results from the nvd.nist.gov database of CVEs 

The API used returns results in batches, ordered by most recent filtered by the keyword provided

## Operating

This service is a java-15 spring-boot service

Build and test: `./gradlew build` 

Run it: `./gradlew bootRun`

## Technologies used 
- gradle
- java 15
- spring-boot - web app container / runner
- junit 5 - unit test framework 
- hoverfly-java - http stub for independent component testing
- jackson + JsonPath for JSON manipulation 

## Would have loved to use
- checkstyle
- spring-boot WebClient

## Design thoughts /  Principles applied
 - Outside in / 'service as unit' testing - using a stub to not
   rely on an external resource to allow tet automation to run
 - avoids strongly coupling to the external API in the code - take what's needed
   without describing or coupling to anything  we don't. 
-  Also avoiding making the external domain the domain of the app

## Narration
1. Used MockMvc as a lightweight way of testing the web app
2. Looked at using `gson` but moved to using `` and JsonPath as it made things simpler
3. After experimenting I favoured `RestTemplate` over `WebClient` in this app for simplicity / easy of use
4. Tests are slow to run and there is growing logic. 
   If I could not get them faster, I'd likely introduce smaller class based unit tests for more complex logic
5. Processing of the Upstream Json is just good enough. It should handle empty data sets better and support processing 
   around bad data in a CVE item and report the rest  

## to be done
3. test missing items in getters - whappens if one item in array does not have data (need to fiddle with input data)
3. MAYBE build upstream url better

## Nice to have
1. Speed up tests - memory settings
2. validate that there is not a lightweight way to use Jackson
3. can I exclude jackson from my dependencies fully
4. checkstyle or similar linter
5. consider better processing of json (gson?)