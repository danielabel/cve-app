// async function searchResultTransform(rawJsonArray) {
//   return rawJsonArray.map((item) => {
//     if (item.show?.summary) item.show.summary = item.show.summary?.replace(/<[^>]+>/g, ' ');
//     return item;
//   });
// }

async function fetcher(url) {
  let response;
  try {
    response = await fetch(url);
  } catch (fetchError) {
    throw new Error('failed to get data');
  }

  if (response.status !== 200) {
    throw new Error('failed to get data');
  }
  return response;
}

async function getCVEs (searchTerm) {
  const response = await fetcher(`http://localhost:8080/cve/search?for=${searchTerm}`);
  return (await response.json());
  // return searchResultTransform(await response.json());
}

export {
  getCVEs,
};
